
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B139P18WHM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-B139P18WHM');
    </script>
    
    <title>Effect Estimation Using specific Effect Estimators (for ACE, mediation effect, …) &#8212; DoWhy  documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
    <img src="../../../_static/dowhy-logo-small.png" class="logo__image only-light" alt="Logo image">
    <img src="../../../_static/dowhy-logo-small.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../example_notebooks/nb_index.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../dowhy.html">
  dowhy package
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../contributing.html">
  Contributing
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../code_repo.html">
  Release notes
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../cite.html">
  Citing this package
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        v0.10.1
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
        <dl>
            <dt>Releases</dt>
            <dd><a href="/dowhy/v0.9.1/index.html">v0.9.1</a></dd>
            <dd><a href="/dowhy/v0.9/index.html">v0.9</a></dd>
            <dd><a href="/dowhy/v0.8/index.html">v0.8</a></dd>
            <dd><a href="/dowhy/v0.7.1/index.html">v0.7.1</a></dd>
            <dd><a href="/dowhy/v0.7/index.html">v0.7</a></dd>
            <dd><a href="/dowhy/v0.6/index.html">v0.6</a></dd>
            <dd><a href="/dowhy/v0.5.1/index.html">v0.5.1</a></dd>
            <dd><a href="/dowhy/v0.5/index.html">v0.5</a></dd>
            <dd><a href="/dowhy/v0.4/index.html">v0.4</a></dd>
            <dd><a href="/dowhy/v0.2/index.html">v0.2</a></dd>
            <dd><a href="/dowhy/v0.10/index.html">v0.10</a></dd>
            <dd><a href="/dowhy/v0.1.1-alpha/index.html">v0.1.1-alpha</a></dd>
        </dl>        
        <dl>
            <dt>Branches</dt>
            <dd><a href="">main</a></dd>
        </dl>        
    </div>
</div>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#generating-sample-data-and-the-causal-model">
   Generating sample data and the causal model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#identify-a-target-estimand-under-the-model">
   Identify a target estimand under the model
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-identification-criteria">
     Supported identification criteria
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estimate-causal-effect-based-on-the-identified-estimand">
   Estimate causal effect based on the identified estimand
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-estimation-methods">
     Supported estimation methods
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-econml-and-causalml-estimation-methods-in-dowhy">
     Using EconML and CausalML estimation methods in DoWhy
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#refute-the-obtained-estimate">
   Refute the obtained estimate
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-refutation-methods">
     Supported refutation methods
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparison-to-other-packages">
   Comparison to other packages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-difference-causal-assumptions-as-first-class-citizens">
     Key difference: Causal assumptions as first-class citizens
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="effect-estimation-using-specific-effect-estimators-for-ace-mediation-effect">
<h1>Effect Estimation Using specific Effect Estimators (for ACE, mediation effect, …)<a class="headerlink" href="#effect-estimation-using-specific-effect-estimators-for-ace-mediation-effect" title="Permalink to this heading"></a></h1>
<img alt="https://raw.githubusercontent.com/py-why/dowhy/master/docs/images/dowhy-schematic.png" src="https://raw.githubusercontent.com/py-why/dowhy/master/docs/images/dowhy-schematic.png" />
<p>For effect estimation, DoWhy provides a principled four-step interface for causal inference that focuses on
explicitly modeling causal assumptions and validating them as much as possible. The key feature of DoWhy is its
state-of-the-art refutation API that can automatically test causal assumptions for any estimation method, thus making
inference more robust and accessible to non-experts. DoWhy supports estimation of the average causal effect for
backdoor, frontdoor, instrumental variable and other identification methods, and estimation of the conditional effect
(CATE) through an integration with the EconML library.</p>
<section id="generating-sample-data-and-the-causal-model">
<h2>Generating sample data and the causal model<a class="headerlink" href="#generating-sample-data-and-the-causal-model" title="Permalink to this heading"></a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dowhy</span> <span class="kn">import</span> <span class="n">CausalModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dowhy.datasets</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load some sample data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">dowhy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">linear_dataset</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">beta</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_common_causes</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_instruments</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_samples</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">treatment_is_binary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">CausalModel</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;df&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">treatment</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;treatment_name&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">outcome</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;outcome_name&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">graph</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gml_graph&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="identify-a-target-estimand-under-the-model">
<h2>Identify a target estimand under the model<a class="headerlink" href="#identify-a-target-estimand-under-the-model" title="Permalink to this heading"></a></h2>
<p>Based on the causal graph, DoWhy finds all possible ways of identifying a desired causal effect based on
the graphical model. It uses graph-based criteria and do-calculus to find
potential ways find expressions that can identify the causal effect.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">identified_estimand</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">identify_effect</span><span class="p">()</span>
</pre></div>
</div>
<section id="supported-identification-criteria">
<h3>Supported identification criteria<a class="headerlink" href="#supported-identification-criteria" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Back-door criterion</p></li>
<li><p>Front-door criterion</p></li>
<li><p>Instrumental Variables</p></li>
<li><p>Mediation (Direct and indirect effect identification)</p></li>
</ul>
<p>Different notebooks illustrate how to use these identification criteria. Check
out the <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy_confounder_example.ipynb">Simple Backdoor</a> notebook for the back-door criterion, and the <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy-simple-iv-example.ipynb">Simple IV</a> notebook for the instrumental variable criterion.</p>
</section>
</section>
<section id="estimate-causal-effect-based-on-the-identified-estimand">
<h2>Estimate causal effect based on the identified estimand<a class="headerlink" href="#estimate-causal-effect-based-on-the-identified-estimand" title="Permalink to this heading"></a></h2>
<p>DoWhy supports methods based on both back-door criterion and instrumental
variables. It also provides a non-parametric confidence intervals and a permutation test for testing
the statistical significance of obtained estimate.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">estimate</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">estimate_effect</span><span class="p">(</span><span class="n">identified_estimand</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;backdoor.propensity_score_matching&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="supported-estimation-methods">
<h3>Supported estimation methods<a class="headerlink" href="#supported-estimation-methods" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Methods based on estimating the treatment assignment</dt><dd><ul>
<li><p>Propensity-based Stratification</p></li>
<li><p>Propensity Score Matching</p></li>
<li><p>Inverse Propensity Weighting</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Methods based on estimating the outcome model</dt><dd><ul>
<li><p>Linear Regression</p></li>
<li><p>Generalized Linear Models</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Methods based on the instrumental variable equation</dt><dd><ul>
<li><p>Binary Instrument/Wald Estimator</p></li>
<li><p>Two-stage least squares</p></li>
<li><p>Regression discontinuity</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Methods for front-door criterion and general mediation</dt><dd><ul>
<li><p>Two-stage linear regression</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Examples of using these methods are in the <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy_estimation_methods.ipynb">Estimation methods</a>
notebook.</p>
</section>
<section id="using-econml-and-causalml-estimation-methods-in-dowhy">
<h3>Using EconML and CausalML estimation methods in DoWhy<a class="headerlink" href="#using-econml-and-causalml-estimation-methods-in-dowhy" title="Permalink to this heading"></a></h3>
<p>It is easy to call external estimation methods using DoWhy. Currently we
support integrations with the <a class="reference external" href="https://github.com/microsoft/econml">EconML</a> and <a class="reference external" href="https://github.com/uber/causalml">CausalML</a> packages. Here’s an example
of estimating conditional treatment effects using EconML’s double machine
learning estimator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">PolynomialFeatures</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LassoCV</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
<span class="n">dml_estimate</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">estimate_effect</span><span class="p">(</span><span class="n">identified_estimand</span><span class="p">,</span> <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;backdoor.econml.dml.DML&quot;</span><span class="p">,</span>
                <span class="n">control_value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">treatment_value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">target_units</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;X0&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">confidence_intervals</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">method_params</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;init_params&quot;</span><span class="p">:{</span><span class="s1">&#39;model_y&#39;</span><span class="p">:</span><span class="n">GradientBoostingRegressor</span><span class="p">(),</span>
                                   <span class="s1">&#39;model_t&#39;</span><span class="p">:</span> <span class="n">GradientBoostingRegressor</span><span class="p">(),</span>
                                   <span class="s1">&#39;model_final&#39;</span><span class="p">:</span><span class="n">LassoCV</span><span class="p">(),</span>
                                   <span class="s1">&#39;featurizer&#39;</span><span class="p">:</span><span class="n">PolynomialFeatures</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">include_bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)},</span>
                    <span class="s2">&quot;fit_params&quot;</span><span class="p">:{}}</span>
                                        <span class="p">)</span>
</pre></div>
</div>
<p>More examples are in the <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy-conditional-treatment-effects.ipynb">Conditional Treatment Effects with DoWhy</a> notebook.</p>
</section>
</section>
<section id="refute-the-obtained-estimate">
<h2>Refute the obtained estimate<a class="headerlink" href="#refute-the-obtained-estimate" title="Permalink to this heading"></a></h2>
<p>Having access to multiple refutation methods to validate an effect estimate from a
causal estimator is
a key benefit of using DoWhy.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">refute_results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">refute_estimate</span><span class="p">(</span><span class="n">identified_estimand</span><span class="p">,</span> <span class="n">estimate</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                       <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;random_common_cause&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="supported-refutation-methods">
<h3>Supported refutation methods<a class="headerlink" href="#supported-refutation-methods" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Add Random Common Cause</strong>: Does the estimation method change its estimate after
we add an independent random variable as a common cause to the dataset?
(<em>Hint: It should not</em>)</p></li>
<li><p><strong>Placebo Treatment</strong>: What happens to the estimated causal effect when we
replace the true treatment variable with an independent random variable?
(<em>Hint: the effect should go to zero</em>)</p></li>
<li><p><strong>Dummy Outcome</strong>: What happens to the estimated causal effect when we replace
the true outcome variable with an independent random variable? (<em>Hint: The
effect should go to zero</em>)</p></li>
<li><p><strong>Simulated Outcome</strong>: What happens to the estimated causal effect when we
replace the dataset with a simulated dataset based on a known data-generating
process closest to the given dataset? (<em>Hint: It should match the effect parameter
from the data-generating process</em>)</p></li>
<li><p><strong>Add Unobserved Common Causes</strong>: How sensitive is the effect estimate when we
add an additional common cause (confounder) to the dataset that is correlated
with the treatment and the outcome? (<em>Hint: It should not be too sensitive</em>)</p></li>
<li><p><strong>Data Subsets Validation</strong>: Does the estimated effect change significantly when
we replace the given dataset with a randomly selected subset? (<em>Hint: It
should not</em>)</p></li>
<li><p><strong>Bootstrap Validation</strong>: Does the estimated effect change significantly when we
replace the given dataset with bootstrapped samples from the same dataset? (<em>Hint: It should not</em>)</p></li>
</ul>
<p>Examples of using refutation methods are in the <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy_refuter_notebook.ipynb">Refutations</a> notebook. For an advanced refutation that uses a simulated dataset based on user-provided or learnt data-generating processes, check out the <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy_demo_dummy_outcome_refuter.ipynb">Dummy Outcome Refuter</a> notebook.
As a practical example, <a class="reference external" href="https://github.com/microsoft/dowhy/blob/main/docs/source/example_notebooks/dowhy_refutation_testing.ipynb">this notebook</a> shows an application of refutation methods on evaluating effect estimators for the Infant Health and Development Program (IHDP) and Lalonde datasets.</p>
</section>
</section>
<section id="comparison-to-other-packages">
<h2>Comparison to other packages<a class="headerlink" href="#comparison-to-other-packages" title="Permalink to this heading"></a></h2>
<p>DoWhy’s effect inference API captures all four steps of causal inference:</p>
<ol class="arabic simple">
<li><p>Model a causal inference problem using assumptions.</p></li>
<li><p>Identify an expression for the causal effect under these assumptions (“causal estimand”).</p></li>
<li><p>Estimate the expression using statistical methods such as matching or instrumental variables.</p></li>
<li><p>Finally, verify the validity of the estimate using a variety of robustness checks.</p></li>
</ol>
<p>This workflow is captured by four key verbs in DoWhy:</p>
<ul class="simple">
<li><p>model</p></li>
<li><p>identify</p></li>
<li><p>estimate</p></li>
<li><p>refute</p></li>
</ul>
<p>Using these verbs, DoWhy implements a causal inference engine that can support
a variety of methods. <em>model</em> encodes prior knowledge as a formal causal graph, <em>identify</em> uses
graph-based methods to identify the causal effect, <em>estimate</em> uses
statistical methods for estimating the identified estimand, and finally <em>refute</em>
tries to refute the obtained estimate by testing robustness to assumptions.</p>
<section id="key-difference-causal-assumptions-as-first-class-citizens">
<h3>Key difference: Causal assumptions as first-class citizens<a class="headerlink" href="#key-difference-causal-assumptions-as-first-class-citizens" title="Permalink to this heading"></a></h3>
<p>Due to DoWhy’s focus on the full pipeline of causal analysis (not just a single
step), there are three differences compared to available software for causal inference.</p>
<dl>
<dt><strong>Explicit identifying assumptions</strong></dt><dd><p>Assumptions are first-class citizens in DoWhy.</p>
<p>Each analysis starts with a
building a causal model. The assumptions can be viewed graphically or in terms
of conditional independence statements. Wherever possible, DoWhy can also
automatically test for stated assumptions using observed data.</p>
</dd>
<dt><strong>Separation between identification and estimation</strong></dt><dd><p>Identification is the causal problem. Estimation is simply a statistical problem.</p>
<p>DoWhy
respects this boundary and treats them separately. This focuses the causal
inference effort on identification, and frees up estimation using any
available statistical estimator for a target estimand. In addition, multiple
estimation methods can be used for a single identified_estimand and
vice-versa.</p>
</dd>
<dt><strong>Automated robustness checks</strong></dt><dd><p>What happens when key identifying assumptions may not be satisfied?</p>
<p>The most critical, and often skipped, part of causal analysis is checking the
robustness of an estimate to unverified assumptions. DoWhy makes it easy to
automatically run sensitivity and robustness checks on the obtained estimate.</p>
</dd>
</dl>
<p>Finally, DoWhy is easily extensible, allowing other implementations of the
four verbs to co-exist (e.g., we support implementations of the <em>estimation</em> verb from
EconML and CausalML libraries). The four verbs are mutually independent, so their
implementations can be combined in any way.</p>
</section>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, PyWhy contributors.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>